import{r as e,j as t,a6 as r,A as a,$ as s,z as n,J as o}from"./vendor-Dwt-aBGE.js";import{A as d,C as l}from"./index-CYX_CeGy.js";import{g as i}from"./vendor-gsap-z-v0fuE5.js";import"./vendor-radix-CpjvfX52.js";const c=({username:n="suhasramanand",showStats:o=!0})=>{const[d,l]=e.useState([]),[c,x]=e.useState(!0),[m,u]=e.useState(null),[f,b]=e.useState({total:0,maxDay:0,currentStreak:0,longestStreak:0}),h=e.useRef(null),[g,p]=e.useState(null);e.useEffect(()=>{(async()=>{try{x(!0);const e=k();l(e);const t=e.reduce((e,t)=>e+t.count,0),r=Math.max(...e.map(e=>e.count));let a=0,s=0,n=0;for(let o=e.length-1;o>=0;o--)if(e[o].count>0)o===e.length-1?a=1:e[o+1].count>0&&a++,n++,s=Math.max(s,n);else if(n=0,o<e.length-1&&0===e[o+1].count)break;b({total:t,maxDay:r,currentStreak:a,longestStreak:s}),x(!1)}catch(e){u("Failed to load contribution data"),x(!1)}})()},[n]),e.useEffect(()=>{if(h.current&&d.length>0){const e=h.current.querySelectorAll(".contribution-square");i.fromTo(e,{scale:0,opacity:0},{scale:1,opacity:1,duration:.3,stagger:.01,ease:"back.out(1.7)"})}},[d]);const k=()=>{const e=[],t=new Date,r=new Date(t);r.setFullYear(t.getFullYear()-1);for(let a=0;a<371;a++){const t=new Date(r);t.setDate(t.getDate()+a);const s=t.getDay(),n=0===s||6===s,o=a/371;let d=0;!n&&Math.random()>.3?(d=Math.floor(20*Math.random()),d+=Math.floor(10*o),Math.random()>.85&&(d+=Math.floor(30*Math.random())),Math.random()>.95&&(d+=Math.floor(50*Math.random()))):n&&Math.random()>.6&&(d=Math.floor(8*Math.random())),o>.2&&o<.25&&Math.random()>.7&&(d=0),o>.6&&o<.65&&Math.random()>.7&&(d=0),d=Math.min(d,100);let l=0;d>0&&(l=1),d>5&&(l=2),d>15&&(l=3),d>30&&(l=4),e.push({date:t.toISOString().split("T")[0],count:d,level:l})}return e},j=e=>{const t=["bg-[#ebedf0] dark:bg-[#161b22]","bg-[#9be9a8] dark:bg-[#0e4429]","bg-[#40c463] dark:bg-[#006d32]","bg-[#30a14e] dark:bg-[#26a641]","bg-[#216e39] dark:bg-[#39d353]"];return t[e]||t[0]},v=(()=>{const e=[];let t=[];return d.forEach((r,a)=>{0!==new Date(r.date).getDay()&&0!==t.length||(t.length>0&&e.push(t),t=[]),t.push(r),a===d.length-1&&t.length>0&&e.push(t)}),e})(),N=v.map((e,t)=>{const r=e[0];if(!r)return"";const a=new Date(r.date);if(a.getDate()<=7||0===t)return a.toLocaleDateString("en-US",{month:"short"});if(t>0){const e=v[t-1];if(e&&e[0]){if(new Date(e[0].date).getMonth()!==a.getMonth())return a.toLocaleDateString("en-US",{month:"short"})}}return""});return c?t.jsx("div",{className:"paper-card p-6",children:t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block w-8 h-8 border-2 border-black dark:border-foreground border-t-transparent rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-ink-gray dark:text-muted-foreground font-serif",children:"Loading GitHub contributions..."})]})})}):m?t.jsx("div",{className:"paper-card p-6",children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-red-500 font-serif",children:m})})}):t.jsxs("div",{className:"paper-card p-6",ref:h,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{className:"text-black dark:text-foreground",size:24}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-serif font-bold text-black dark:text-foreground",children:"GitHub Contributions"}),t.jsx("p",{className:"text-sm text-ink-gray dark:text-muted-foreground font-serif",children:"Last year of activity"})]})]}),t.jsxs("a",{href:`https://github.com/${n}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 border border-black/20 dark:border-border hover:bg-black dark:hover:bg-foreground hover:text-paper-cream dark:hover:text-background transition-all duration-200 text-sm font-serif text-black dark:text-foreground",children:[t.jsx(a,{size:18}),t.jsx("span",{children:"View Profile"}),t.jsx(s,{size:14})]})]}),o&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[t.jsxs("div",{className:"paper-card p-4 border border-black/10 dark:border-border/50",children:[t.jsx("div",{className:"text-2xl font-bold text-black dark:text-foreground font-serif mb-1",children:f.total}),t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"Total Contributions"})]}),t.jsxs("div",{className:"paper-card p-4 border border-black/10 dark:border-border/50",children:[t.jsx("div",{className:"text-2xl font-bold text-black dark:text-foreground font-serif mb-1",children:f.currentStreak}),t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"Current Streak"})]}),t.jsxs("div",{className:"paper-card p-4 border border-black/10 dark:border-border/50",children:[t.jsx("div",{className:"text-2xl font-bold text-black dark:text-foreground font-serif mb-1",children:f.longestStreak}),t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"Longest Streak"})]}),t.jsxs("div",{className:"paper-card p-4 border border-black/10 dark:border-border/50",children:[t.jsx("div",{className:"text-2xl font-bold text-black dark:text-foreground font-serif mb-1",children:f.maxDay}),t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"Best Day"})]})]}),t.jsxs("div",{className:"overflow-x-auto pb-4",children:[t.jsxs("div",{className:"flex items-start gap-1 min-w-max",children:[t.jsx("div",{className:"flex flex-col gap-1 pr-2 pt-6",children:["Mon","Wed","Fri"].map((e,r)=>t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif h-[11px] leading-[11px]",style:{height:"11px",lineHeight:"11px"},children:e},r))}),t.jsx("div",{className:"flex gap-1",children:v.map((e,r)=>t.jsx("div",{className:"flex flex-col gap-1",children:e.map((e,a)=>{const s=new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.jsx("div",{className:`contribution-square w-[11px] h-[11px] rounded-sm ${j(e.level)} transition-all duration-200 cursor-pointer border border-black/5 dark:border-white/5`,title:`${e.count} contributions on ${s}`,onMouseEnter:t=>{const r=t.currentTarget.getBoundingClientRect();p({dateKey:e.date,date:s,count:e.count,x:r.left+r.width/2,y:r.top-10})},onMouseLeave:()=>p(null),style:{transform:(null==g?void 0:g.dateKey)===e.date?"scale(1.3)":"scale(1)",zIndex:(null==g?void 0:g.dateKey)===e.date?10:1,boxShadow:(null==g?void 0:g.dateKey)===e.date?"0 0 8px rgba(0,0,0,0.3)":"none"}},`${r}-${a}`)})},r))})]}),t.jsx("div",{className:"flex gap-1 mt-2 ml-[32px]",children:v.map((e,r)=>{const a=N[r];return t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",style:{width:13*e.length+"px",minWidth:13*e.length+"px"},children:a},r)})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4 pt-4 border-t border-black/10 dark:border-border/50",children:[t.jsx("span",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"Less"}),t.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(e=>t.jsx("div",{className:`w-[11px] h-[11px] rounded-sm ${j(e)} border border-black/5 dark:border-white/5`},e))}),t.jsx("span",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:"More"})]}),g&&t.jsxs("div",{className:"fixed pointer-events-none z-50 paper-card p-3 border border-black/20 dark:border-border shadow-xl whitespace-nowrap",style:{left:`${g.x}px`,top:`${g.y}px`,transform:"translate(-50%, -100%)",marginTop:"-8px"},children:[t.jsxs("div",{className:"text-sm font-serif font-bold text-black dark:text-foreground mb-1",children:[g.count," ",1===g.count?"contribution":"contributions"]}),t.jsx("div",{className:"text-xs text-ink-gray dark:text-muted-foreground font-serif",children:g.date})]})]})},x=()=>{const e=n();return t.jsxs(t.Fragment,{children:[t.jsx(d,{}),t.jsx(l,{}),t.jsx("main",{className:"relative min-h-screen pt-20 pb-16",children:t.jsxs("div",{className:"section-container",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>e("/test"),className:"flex items-center gap-2 px-4 py-2 border border-black/20 dark:border-border hover:bg-black dark:hover:bg-foreground hover:text-paper-cream dark:hover:text-background transition-all duration-200 font-serif text-sm text-black dark:text-foreground mb-6",children:[t.jsx(o,{size:18}),t.jsx("span",{children:"Back to Test Lab"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-4xl sm:text-5xl font-serif font-bold text-black dark:text-foreground mb-2",children:"GitHub Contribution Heatmap"}),t.jsx("p",{className:"text-lg text-ink-gray dark:text-muted-foreground font-serif",children:"Visualize GitHub activity over the past year"})]})]}),t.jsx(c,{username:"suhasramanand",showStats:!0})]})})]})};export{x as default};
